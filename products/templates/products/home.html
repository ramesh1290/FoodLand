{% extends 'products/base.html' %}
{% load static %}

{% block title %}Babyland Joy - Home{% endblock %}

{% block css %}
<!-- Link to your home-specific CSS -->
<link rel="stylesheet" href="{% static 'css/home.css' %}">
<link rel="stylesheet" href="{% static 'css/team.css' %}"> <!-- Add the team.css link here -->
{% endblock %}

{% block content %}
<!-- Hero Section (Advanced Image Slider) -->
<div class="hero-slider">
  <div class="swiper">
    <div class="swiper-wrapper">
      {% for image in hero_images %}
      <div class="swiper-slide">
        <img src="{{ image.image.url }}" alt="{{ image.caption }}">
        <!-- Gradient Overlay -->
        <!-- <div class="gradient-overlay"></div> -->
        <!-- Dynamic Caption -->
        <div class="swiper-caption">
          <h1 class="caption-title">{{ image.caption }}</h1>
          <p class="caption-subtitle">Explore amazing products for kids</p>
        </div>
      </div>
      {% endfor %}
    </div>
    <!-- Navigation & Pagination -->
    <div class="swiper-pagination"></div>
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
  </div>
</div>

<!-- Products Section -->
<section id="products-container" class="products-container">
  <h1>Our Products</h1>
  <div class="products-grid">
    {% for product in page_obj %}
    <div class="product-card bounce-in">
      <img src="{{ product.image.url }}" alt="{{ product.name }}">
      <h2>{{ product.name }}</h2>
      <a href="{% url 'product_detail' product.id %}">View</a>
      <a href="{% url 'add_to_cart' product.id %}">Add to Cart</a>
      <a href="{% url 'book_now' product.id %}">Book Now</a>
    </div>
    {% empty %}
    <p>No products available.</p>
    {% endfor %}
  </div>
  <!-- Paginator -->
  <div class="paginator">
    {% if page_obj.has_previous %}
    <a href="?page=1" class="page-link first">&laquo; First</a>
    <a href="?page={{ page_obj.previous_page_number }}" class="page-link prev">‹ Previous</a>
    {% endif %}
    <div class="page-numbers">
      {% for num in page_obj.paginator.page_range %}
      {% if num == page_obj.number %}
      <span class="page-number active">{{ num }}</span>
      {% else %}
      <a href="?page={{ num }}" class="page-number">{{ num }}</a>
      {% endif %}
      {% endfor %}
    </div>
    {% if page_obj.has_next %}
    <a href="?page={{ page_obj.next_page_number }}" class="page-link next">Next ›</a>
    <a href="?page={{ page_obj.paginator.num_pages }}" class="page-link last">Last &raquo;</a>
    {% endif %}
  </div>

  <!-- WhatsApp Button -->
  <a href="https://wa.me/9779801027342" class="whatsapp-button" target="_blank">
    <i class="fab fa-whatsapp"></i>
    <span class="tooltip-text">Call us on WhatsApp</span>
  </a>

  <div class="container" id="#container">
    <!-- Welcome Section -->
    <section class="welcome-section section-box" id="welcome-section">
      <div class="content-container" id="content-container">
        <div class="text-content">
          <h1>Welcome to <span>BABYLANDJOY</span></h1>
          <p>Dear Sir/Madam,</p>
          <p>
            We at BABYLANDJOY are passionate about creating safe and exciting play environments for children.
            We believe that play is the foundation of creativity, learning, and development, which is why we are
            committed to offering the finest play materials for schools and communities.
          </p>
          <div class="extra-content">
            <p>
              We would love the opportunity to collaborate with you, bringing our products to your school and
              enriching your students' playtime with safe, educational, and fun-filled playground experiences.
            </p>
            <p>
              Looking forward to partnering with you!<br>
              Warm regards,<br>
              Trust Traders, Kathmandu, Nepal
            </p>
          </div>
          <button class="read-more" onclick="toggleText(this)">Read More</button>
        </div>
        <div class="image-content">
          <img src="{% static 'images/business_collaboration.jpg' %}" alt="Children Playing">
        </div>
      </div>
    </section>

    <!-- Company Profile Section -->
    <section class="company-profile section-box">
      <div class="content-container">
        <div class="text-content">
          <h2>About Us – <span>BABYLANDJOY</span></h2>
          <h3>Your Partner in Creating Safe Play Spaces</h3>
          <p><strong>Industry:</strong> Playground Equipment Sales &amp; Services</p>
          <p><strong>Tagline:</strong> Where Play Meets Safety, Fun, and Learning</p>
          <div class="extra-content">
            <p>
              At BABYLANDJOY, we understand that every child deserves a safe and stimulating space to learn and grow.
              We offer a wide range of innovative and high-quality playground equipment designed to bring joy and
              development to children of all ages.
            </p>
            <p>
              Our products are crafted with utmost care, ensuring that each piece is safe, durable, and built to last.
              We are dedicated to helping schools, communities, and daycare centers create environments that foster
              creativity, physical activity, and social interaction.
            </p>
          </div>
          <button class="read-more" onclick="toggleText(this)">Read More</button>
        </div>
        <div class="image-content">
          <img src="{% static 'images/equipment.jpg' %}" alt="Playground Equipment">
        </div>
      </div>
    </section>

    <!-- Why Choose Us Section -->
    <section class="why-choose-us section-box">
      <div class="content-container">
        <div class="text-content">
          <h2>Why Choose <span>BABYLANDJOY</span>?</h2>
          <ul>
            <li><strong>Safety First:</strong> Every product is carefully designed to meet and exceed safety standards.
            </li>
            <li><strong>Innovative Designs:</strong> Our playgrounds engage and challenge children, fostering
              creativity.</li>
            <li><strong>Tailored Solutions:</strong> Custom designs and equipment tailored for your specific needs.</li>
          </ul>
          <div class="extra-content">
            <p>
              Every product is carefully designed to meet and exceed safety standards. Our playgrounds engage and
              challenge children, fostering creativity, and we offer custom designs and equipment tailored to your
              specific needs.
            </p>
            <p>
              We ensure that your playground environment is not just fun but also safe and developmentally beneficial
              for children.
              Our focus is on fostering a balance of safety, fun, and learning.
            </p>
          </div>
          <button class="read-more" onclick="toggleText(this)">Read More</button>
        </div>
        <div class="image-content">
          <img src="{% static 'images/kids_playing.jpg' %}" alt="Kids Playing on Playground">
        </div>
      </div>
    </section>

    <!-- Our Services Section -->
    <section class="our-services section-box">
      <div class="content-container">
        <div class="text-content">
          <h2>Our Services</h2>
          <ul>
            <li><strong>Free Playground Equipment Installation:</strong> Expert setup to ensure safety and proper
              functionality.</li>
            <li><strong>Free Delivery:</strong> Hassle-free, complimentary delivery of all our products.</li>
            <li><strong>5-Year Repair Services:</strong> Reliable repair services for up to five years after purchase.
            </li>
            <li><strong>Safety Features:</strong> Equipment designed with child safety in mind, including
              impact-absorbing surfaces.</li>
          </ul>
          <div class="extra-content">
            <p>
              Our playground equipment installation is conducted by professionals who ensure the equipment is safely
              installed.
              We provide free delivery services to make the process as easy as possible for you.
            </p>
            <p>
              Additionally, our services include a 5-year repair guarantee for all products to ensure they remain in top
              condition.
              We also prioritize safety by designing our equipment with impact-absorbing surfaces and other safety
              features.
            </p>
          </div>
          <button class="read-more" onclick="toggleText(this)">Read More</button>
        </div>
        <div class="image-content">
          <img src="{% static 'images/playground.jpg' %}" alt="Playground Equipment Installation">
        </div>
      </div>
    </section>
  </div>
</section>
<!-- Our Team Section -->
<div id="our-team" class="our-team">
  <h2>Meet Our Team</h2>
  <div class="team-container">
    {% for member in team_members %}
    <div class="team-card">
      <div class="team-image-container">
        <img src="{{ member.image.url }}" alt="{{ member.name }}">
      </div>
      <div class="team-info">
        <h3>{{ member.name }}</h3>
        <p>{{ member.position }}</p>

      </div>
    </div>
    {% endfor %}
  </div>
</div>



<!-- GSAP via CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
<!-- ScrollReveal Library -->
<script src="https://unpkg.com/scrollreveal"></script>
<!-- Swiper JS -->
<script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
<!-- Alternate ScrollReveal (if needed) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/scrollreveal/4.0.0/scrollreveal.min.js"></script>
<!-- GSAP CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollTrigger.min.js"></script>

<script>
  // Initialize Swiper slider
  window.addEventListener('load', () => {
    const swiper = new Swiper('.swiper', {
      loop: true,
      autoplay: {
        delay: 7000,
        disableOnInteraction: false,
      },
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      on: {
        init: () => animateSlide(),
        slideChangeTransitionStart: () => resetAnimation(),
        slideChangeTransitionEnd: () => animateSlide(),
      },
    });

    function animateSlide() {
      const activeSlide = document.querySelector('.swiper-slide-active');
      // Animate Caption Title
      gsap.fromTo(
        activeSlide.querySelector('.caption-title'),
        { opacity: 0, y: 50 },
        { opacity: 1, y: 0, duration: 1.5, ease: 'power3.out' }
      );
      // Animate Caption Subtitle with Delay
      gsap.fromTo(
        activeSlide.querySelector('.caption-subtitle'),
        { opacity: 0, x: -100 },
        { opacity: 1, x: 0, duration: 1.8, delay: 0.5, ease: 'power4.out' }
      );
    }

    function resetAnimation() {
      gsap.set('.caption-title, .caption-subtitle', { opacity: 0 });
    }
  });

  // Intersection Observer for product cards (fade-in effect)
  function handleAnimation(entries, observer) {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      } else {
        entry.target.classList.remove('visible');
      }
    });
  }
  const observer = new IntersectionObserver(handleAnimation, { threshold: 0.5 });
  const productCards = document.querySelectorAll('.product-card');
  productCards.forEach(card => {
    observer.observe(card);
  });

  // Header Hamburger Toggle
  function toggleMenu() {
    const navLinks = document.querySelector('.scroll-nav .container ul');
    navLinks.classList.toggle('active');
  }

  // Toggle "Read More" text for extra content
  function toggleText(button) {
    const extraContent = button.previousElementSibling;
    if (extraContent.classList.contains('show')) {
      extraContent.classList.remove('show');
      button.textContent = 'Read More';
    } else {
      extraContent.classList.add('show');
      button.textContent = 'Read Less';
    }
  }

  // WhatsApp Button Scroll Toggle
  window.addEventListener('scroll', function () {
    const whatsappButton = document.querySelector('.whatsapp-button');
    if (!whatsappButton) return;
    if (window.scrollY > 200) {
      whatsappButton.style.display = 'flex';
      setTimeout(() => {
        whatsappButton.style.opacity = '1';
      }, 10);
    } else {
      whatsappButton.style.opacity = '0';
      setTimeout(() => {
        whatsappButton.style.display = 'none';
      }, 300);
    }
  });



  document.addEventListener('DOMContentLoaded', function () {
    // Register ScrollTrigger plugin with GSAP
    gsap.registerPlugin(ScrollTrigger);

    // Animate each team card when it scrolls into view
    gsap.utils.toArray('.team-card').forEach((card, index) => {
      gsap.fromTo(
        card,
        { opacity: 0, y: 50 }, // Starting state (invisible and below)
        {
          opacity: 1,
          y: 0, // Ending state (visible and in place)
          duration: 1,
          delay: index * 0.2, // Staggered delay based on card index
          scrollTrigger: {
            trigger: card,
            start: 'top 80%', // Trigger animation when the card is 80% visible in the viewport
            end: 'top 60%',
            scrub: true, // Smooth animation when scrolling
          }
        }
      );
    });
  });





  document.addEventListener('DOMContentLoaded', function () {
    // Register ScrollTrigger plugin with GSAP
    gsap.registerPlugin(ScrollTrigger);

    // Animate each section when it scrolls into view
    gsap.utils.toArray('.section-box').forEach((section, index) => {
      gsap.fromTo(
        section,
        { opacity: 0, y: 80 }, // Start: Invisible and 80px down
        {
          opacity: 1,
          y: 0, // End: Fully visible and in position
          duration: 1,
          delay: index * 0.2, // Stagger animation
          scrollTrigger: {
            trigger: section,
            start: 'top 80%', // When the section is 80% in the viewport
            end: 'top 60%',  // When the section reaches 60% of the viewport
            scrub: true,    // Smooth animation on scroll
          }
        }
      );
    });
  });




</script>
{% endblock %}